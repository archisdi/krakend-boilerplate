{{- define "jwt.validator" -}}
auth/validator: 
  alg: RS256
  jwk_url: {{ .host.jwks }}
  cache: true
  disable_jwk_security: true
  operation_debug: true
  propagate_claims:
    -
      - sub
      - x-user-id
{{- end -}}

---

{{- define "jwt.signer" -}}
auth/signer: 
  alg: RS256
  kid: {{ .auth.kid }}
  keys_to_sign: 
    - access_token
    - refresh_token
  jwk_url: {{ .host.symectric }}
  disable_jwk_security: true
{{- end -}}